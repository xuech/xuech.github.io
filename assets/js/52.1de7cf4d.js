(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{580:function(t,s,e){"use strict";e.r(s);var a=e(6),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"vuex的构成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex的构成"}},[t._v("#")]),t._v(" vuex的构成")]),t._v(" "),e("p",[t._v("vuex是vue的状态管理器，它由以下五个部分组成：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("State")]),t._v(" 、"),e("code",[t._v("Getter")]),t._v(" 对状态进行定义")]),t._v(" "),e("li",[e("code",[t._v("Mutation")]),t._v(" 对状态进行变更")]),t._v(" "),e("li",[e("code",[t._v("Action")]),t._v(" 用于提交 mutation，而不是直接变更状态，可以包含任意异步操作")]),t._v(" "),e("li",[e("code",[t._v("Modules")]),t._v(" 对状态进行模块化分割")]),t._v(" "),e("li",[e("code",[t._v("plugins")]),t._v(" 对状态进行持久化存储、追踪等")]),t._v(" "),e("li",[e("code",[t._v("mapState、mapGetters、 mapActions、 mapMutations")]),t._v(" 进行便利化操作\n"),e("img",{attrs:{src:"imgs/5.0.png",alt:"图1"}})])]),t._v(" "),e("h2",{attrs:{id:"vuex的store是如何注入到组件中的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex的store是如何注入到组件中的"}},[t._v("#")]),t._v(" vuex的store是如何注入到组件中的？")]),t._v(" "),e("p",[t._v("当我们使用vuex时，需要进行以下代码的书写，\n"),e("code",[t._v("Vue.use(Vuex);")]),t._v("而这段代码的本质其实就是"),e("code",[t._v("Vue.mixin({ beforeCreate: vuexInit });")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*Vuex的init钩子，会存入每一个Vue实例等钩子列表*/")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vuexInit")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//根实例")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//子组件， 父组件存在并且有store属性")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("blockquote",[e("p",[t._v("每个vue组件实例化过程中，会在 "),e("code",[t._v("beforeCreate")]),t._v(" 钩子前调用 "),e("code",[t._v("vuexInit")]),t._v(" 方法")])]),t._v(" "),e("p",[e("strong",[t._v("vuex利用了vue的mixin机制，在 beforeCreate 钩子函数中 将store注入到vue组件实例上，并注册了 vuex store的引用属性 $store！")])]),t._v(" "),e("h2",{attrs:{id:"vuex的state-和-getter-是如何映射到各个组件实例中自动更新的呢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex的state-和-getter-是如何映射到各个组件实例中自动更新的呢"}},[t._v("#")]),t._v(" vuex的state 和 getter 是如何映射到各个组件实例中自动更新的呢？")]),t._v(" "),e("ul",[e("li",[t._v("vuex的state是借助vue的响应式data实现的。")]),t._v(" "),e("li",[t._v("getter是借助vue的计算属性computed特性实现的")])]),t._v(" "),e("p",[e("img",{attrs:{src:"imgs/6.0.png",alt:"图2"}})]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.cn/post/6844903507057704974#heading-0",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://juejin.cn/post/6844903993374670855",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试题"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);