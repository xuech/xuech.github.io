(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{584:function(e,v,c){"use strict";c.r(v);var n=c(6),_=Object(n.a)({},(function(){var e=this,v=e.$createElement,c=e._self._c||v;return c("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[c("h2",{attrs:{id:"npm-ci-和-npm-install"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#npm-ci-和-npm-install"}},[e._v("#")]),e._v(" npm ci 和 npm install")]),e._v(" "),c("p",[c("code",[e._v("npm ci")]),e._v("是专门为 CI 环境准备的安装命令，和 "),c("code",[e._v("npm install")]),e._v("的区别在于：")]),e._v(" "),c("ul",[c("li",[c("code",[e._v("npm ci")]),e._v(" 要求项目中必须存在 "),c("code",[e._v("package-lock.json")])]),e._v(" "),c("li",[e._v("根据"),c("code",[e._v("package-lock.json")]),e._v("安装依赖，好处是可以保证开发团队都使用完全一致的依赖")]),e._v(" "),c("li",[e._v("无法单独安装某个依赖包，只能一次安装全部")]),e._v(" "),c("li",[e._v("如果 "),c("code",[e._v("package-lock.json")]),e._v(" 和 "),c("code",[e._v("package.json")]),e._v("冲突，那么 "),c("code",[e._v("npm ci")]),e._v("会直接报错，并非更新"),c("code",[e._v("lockfiles")])]),e._v(" "),c("li",[c("code",[e._v("npm ci")]),e._v(" 永远不会改变 "),c("code",[e._v("package.json")]),e._v(" 和 "),c("code",[e._v("package-lock.json")])])]),e._v(" "),c("h2",{attrs:{id:"要不要提交-package-lock-json-到仓库"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#要不要提交-package-lock-json-到仓库"}},[e._v("#")]),e._v(" 要不要提交 package-lock.json 到仓库？")]),e._v(" "),c("p",[c("code",[e._v("package-lock.json")]),e._v("文件的作用是"),c("strong",[e._v("锁定依赖安装结构")]),e._v("，目的是保证在任意机器上执行 "),c("code",[e._v("npm install")]),e._v(" 都会得到完全相同的 "),c("code",[e._v("node_modules")]),e._v(" 安装结果")]),e._v(" "),c("p",[e._v("如果是开发一个应用，最好将该文件提交到代码版本仓库；如果是开发一个组件或者库，最好不要提交，可以减少依赖体积")]),e._v(" "),c("h2",{attrs:{id:"dependencies-和-devdependencies"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#dependencies-和-devdependencies"}},[e._v("#")]),e._v(" dependencies 和 devDependencies")]),e._v(" "),c("ul",[c("li",[c("code",[e._v("dependencies")]),e._v(" 表示"),c("strong",[e._v("项目依赖")]),e._v("，这些依赖都会成为线上生产环境中的代码组成部分")]),e._v(" "),c("li",[c("code",[e._v("devDependencies")]),e._v(" 表示"),c("strong",[e._v("开发依赖")]),e._v("，不会被自动下载，它只在开发阶段起作用或只是在开发环境中需要用到，如："),c("code",[e._v("webpack、scss-loader")]),e._v("等")]),e._v(" "),c("li",[e._v("并不是只有在 "),c("code",[e._v("dependencies")]),e._v("中的模块才会被一起打包，而在 "),c("code",[e._v("devDependencies")]),e._v(" 中的依赖一定不会被打包。实际上，依赖是否被打包，完全取决于项目里是否被引入了该模块。")])])])}),[],!1,null,null,null);v.default=_.exports}}]);